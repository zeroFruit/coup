html
  head
    meta(charset="utf-8")
    meta(http-equiv="X-UA-Compatible" content="IE=edge")
    meta(name="viewport" content="width=device-width initial-scale=1")
    //- BOOTSTRAP STYLES
    link(href='public/stylesheets/temp/bootstrap.css',      rel='stylesheet')
    //- FONTAWESOME STYLES
    link(href='public/stylesheets/temp/font-awesome.css',   rel='stylesheet')
    //- TEMPLATE BASIC STYLES
    link(href='public/stylesheets/temp/basic_test.css',          rel='stylesheet')
    //- TEMPLATE MAIN STYLES
    link(href='public/stylesheets/temp/custom.css',         rel='stylesheet')
    //- TEMPLATE FORM SCRIPTS
    script(src='public/javascripts/temp/switchery.min.js')
    //- TEMPLATE FORM STYLEs
    link(href='public/stylesheets/temp/form-style.css',     rel='stylesheet')
    link(href='public/stylesheets/temp/switchery.min.css',  rel='stylesheet')
    link(href='public/stylesheets/temp/modal-form.css',     rel='stylesheet')
    //- GOOGLE FONTS
    link(href='http://fonts.googleapis.com/css?family=Open+Sans', rel='stylesheet', type='text/css')
    //- TEMPLATE SNACKBAR STYLES
    link(href='public/stylesheets/temp/snackbar.css',     rel='stylesheet')
    //- TEMPLATE TABLE STYLES
    link(href='public/stylesheets/temp/table-style.css',     rel='stylesheet')
    //- CUSTOM style
    link(href="public/stylesheets/style.css" rel='stylesheet')
  body
    //- REGISTER SUCCESS TOAST MESSAGE
    #snackbar
      | 성공적으로 등록되었습니다.
    //- DELETE SUCCESS TOAST MESSAGE
    #snackbar
      | 삭제되었습니다.  
    //- SIDE NAVIGATION
    #mySidenav.sidenav(style="width:250px;")
      a(href="#") About
      a(href="#") Services
      a(href="#") Clients
      a(href="#") Contact
    //- -------------------------------------------------------------- 
    //- MODAL REGISTER FORM
    //- --------------------------------------------------------------
    #id01.modal
      form.modal-content.animate(action='/register' method='post')
        .col-2
          label
            | 이름
            input#name(placeholder='이름을 입력해주세요.', name='membername', tabindex='1')
        .col-2
          label
            | 비밀번호
            input#company(placeholder='6자리 숫자를 입력해주세요.', type='password', name='password', tabindex='2')
        .col-3
          label
            | 휴대폰번호
            input#phone(placeholder='xxx-xxxx-xxxx', name='phonenum', tabindex='3')
        .col-3
          label
            | Email
            input#email(placeholder='What is your e-mail address?', name='email', tabindex='4')
        .col-3
          label
            | 이용하실 요금제를 선택해주세요.
            select(tabindex='5')
              option(name='opt0') 선택하세요.
              option(name='opt1') 한 달 자유이용권\(17시간\) --- 15만원
              option(name='opt2') 한 달 10시간씩 --- 13만원
              option(name='opt3') 한 달 6시간씩 --- 10만원
        .col-4
          label
            | Skills
            input#skills(placeholder='List a few of your primary skills', name='skills', tabindex='6')
        .col-4
          label
            | Yrs Experience
            input#experience(placeholder='How many years of experience?', name='experience', tabindex='7')
        .col-4
          label Contact References?
          center(style='position:relative; margin-bottom:8px;')
            input.js-switch(type='checkbox')
        .col-4.switch
          label E-mail Updates?
          center(style='position:relative;margin-bottom:8px;')
            input.js-switch(type='checkbox')
        .col-1
          label Memo
            input(type='textarea' placeholder='메모를 입력하세요.' name='memo' tabindex='8')
        .col-submit
          button.submitbtn#registerSubmit Submit Form
        //-THERE'S HIDDEN FORM TO SEND TOKENS
        input(type='hidden' name='accessToken')
        input(type='hidden' name='refreshToken')
    //- ------------------------------------------------------
    //- MODAL UPDATE FORM
    //- ------------------------------------------------------
    #id02.modal
      form.modal-content.animate(action='/register' method='post')
        .col-2
          label
            | 이름
            input#name(placeholder='이름을 입력해주세요.', name='upt-membername', tabindex='1')
        .col-2
          label
            | 비밀번호
            input#company(placeholder='6자리 숫자를 입력해주세요.', type='password', name='upt-password', tabindex='2')
        .col-3
          label
            | 휴대폰번호
            input#phone(placeholder='xxx-xxxx-xxxx', name='upt-phonenum', tabindex='3')
        .col-3
          label
            | Email
            input#email(placeholder='What is your e-mail address?', name='upt-email', tabindex='4')
        .col-3
          label
            | 이용하실 요금제를 선택해주세요.
            select(tabindex='5')
              option(name='upt-opt0') 선택하세요.
              option(name='upt-opt1') 한 달 자유이용권\(17시간\) --- 15만원
              option(name='upt-opt2') 한 달 10시간씩 --- 13만원
              option(name='upt-opt3') 한 달 6시간씩 --- 10만원
        .col-4
          label
            | Skills
            input#skills(placeholder='List a few of your primary skills', name='skills', tabindex='6')
        .col-4
          label
            | Yrs Experience
            input#experience(placeholder='How many years of experience?', name='experience', tabindex='7')
        .col-4
          label Contact References?
          center(style='position:relative; margin-bottom:8px;')
            input.js-switch(type='checkbox')
        .col-4.switch
          label E-mail Updates?
          center(style='position:relative;margin-bottom:8px;')
            input.js-switch(type='checkbox')
        .col-submit
          button.submitbtn#registerSubmit Update
        //- THERE'S HIDDEN FORM TO SEND TOKENS
        input(type='hidden' name='accessToken')
        input(type='hidden' name='refreshToken')
    //- MODAL REGISTER/UPDATE FORM SCRIPT
    script.
      //-
      //- turn on/off switch action
      //-
      var elems = Array.prototype.slice.call(document.querySelectorAll('.js-switch'));
      elems.forEach(function(html) {
        var switchery = new Switchery(html);
      });
      //-
      //- When the user clicks anywhere outside of the modal, close it
      //-
      var modal_reg = document.getElementById('id01');
      window.onclick = function(event) {
        if (event.target == modal_reg) {
            modal_reg.style.display = "none";
        }
      }
      var modal_upt = document.getElementById('id02');
      window.onclick = function(event) {
        if (event.target == modal_upt) {
            modal_upt.style.display = "none";
        }
      }
    //- Add all page content inside this div(id="main")
    //- CSS FILE IS IN basic.css
    #main(style="margin-left:250px;")
      //- TOP NAV BAR
      ul#top_nav
        li#top_nav_list
          a(href='#') Home
        li#top_nav_list 
          a(href='#' onclick="document.getElementById('id01').style.display='block'", style='width:auto;') Register
        li#top_nav_list
          a(href='#') Contact
      #wrapper
        #page-wrapper
          #page-inner
            .row
              .col-md-12
                h1.page-head-line 독서실 관리 프로그램입니다.
                h1.page-subhead-line This is dummy text , you can replace it with your original text.    
                //- Responsive table starts here
                //- For correct display on small screens you must add 'data-title' to each 'td' in your table
                .table-responsive-vertical.shadow-z-1
                  //- Table starts here
                  table#table.table.table-hover.table-bordered.table-mc-light-blue
                    thead
                      tr
                        th ID
                        th 이름
                        th 좌석번호
                        th 요금제
                        th
                    tbody
                      tr
                        td(data-title='ID') 1
                        td(data-title='Name') Material Design Color Palette
                        td(data-title='Link')
                          a(href='https://github.com/zavoloklom/material-design-color-palette', target='_blank') GitHub
                        td(data-title='Status') Completed
                        td
                          i.fa.fa-pencil-square-o.table-button(area-hidden='true' onclick="editList()")
                          i.fa.fa-trash.table-button(area-hidden='true' onclick="deleteList()")
    script.
      //- Set the width of the side navigation to 250px and the left margin of the page content to 250px 
      function openNav() {
        document.getElementById('mySidenav').style.width = "250px";
        document.getElementById('main').style.marginLeft ="250px";
      }
      //- Set the width of the side navigation to 0 and the left margin of the page content to 0 
      function closeNav() {
        document.getElementById('mySidenav').style.width = '0';
        document.getElementById('main').style.marginLeft = '0';
      }    
    //- JQUERY SCRIPTS
    script(src='public/javascripts/temp/jquery-1.10.2.js')
    //- BOOTSTRAP SCRIPTS
    script(src='public/javascripts/temp/bootstrap.js')
    //- METISMENU SCRIPTS
    script(src='public/javascripts/temp/jquery.metisMenu.js')
    //- TEMPLATE LAYOUT SCRIPTS
    script(src='public/javascripts/temp/custom.js')
    //- CUSTOM SCRIPTS
    script.
      //- SNACKBAR
      function chopchop() {
        //- Get the snackbar
        var sb = document.getElementById('snackbar');
        //- Add the class
        sb.className = "show";
        //- After 3 seconds, remove the show class from snackbar
        setTimeout(function() {sb.className = sb.className.replace("show", ""); }, 3000);
      }
    //- EDIT/DELETE CLICK EVENT SCRIPT
    script.  
      function editList() {
        /*
          In addition to signal we need to send membername, seatnum, payment to server
        */
        var signal = {
          getdb: '1'
        };
        $.ajax({
          url: '/getdb',
          method: 'post',
          data: signal
        }).done(function(result) {
          /* query results are now in the 'result' */
          $("input[name='upt-name']").val(result.membername);
          $("input[name='upt-password']").val(result.password);
          $("input[name='upt-phonenum']").val(result.phonenum);
          
        }).then(function() {
          $('#id02').css('display', 'block');
        });
      }
    script.
      function deleteList() {
        var signal = {
          getdb: '2'
        };
        $.ajax({
          url: '/getdb',
          method: 'post',
          data: signal
        }).done(function(result) {
          /*
            We can verify whether query is successful by comparing
            
            if(result.member.membername === 'membername')
          */
          alert(result.membername);
          alert('reached here');
          /*
            After that we can use snack bar
          */
        }).fail(function() {
          /* We can check error here */
          alert('ERROR: no line is affected');
        });
      }
