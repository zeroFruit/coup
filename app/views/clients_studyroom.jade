html
  head
    meta(charset="utf-8")
    meta(http-equiv="X-UA-Compatible" content="IE=edge")
    meta(name="viewport" content="width=device-width initial-scale=1")
    //- BOOTSTRAP STYLES
    link(href='public/stylesheets/temp/bootstrap.css',      rel='stylesheet')
    //- FONTAWESOME STYLES
    link(href='public/stylesheets/temp/font-awesome.css',   rel='stylesheet')
    //- TEMPLATE BASIC STYLES
    link(href='public/stylesheets/temp/basic.css',          rel='stylesheet')
    //- TEMPLATE MAIN STYLES
    link(href='public/stylesheets/temp/custom.css',         rel='stylesheet')
    //- TEMPLATE FORM SCRIPTS
    script(src='public/javascripts/temp/switchery.min.js')
    //- TEMPLATE FORM STYLEs
    //- link(href='public/stylesheets/temp/form-style.css',     rel='stylesheet')
    //- link(href='public/stylesheets/temp/switchery.min.css',  rel='stylesheet')
    link(href='public/stylesheets/temp/modal-form.css',     rel='stylesheet')
    //- GOOGLE FONTS
    link(href='http://fonts.googleapis.com/css?family=Open+Sans', rel='stylesheet', type='text/css')
    link(href='http://fonts.googleapis.com/earlyaccess/jejugothic.css', rel='stylesheet', type='text/css')
    //- TEMPLATE CLIENT-PAGE-STYLE
    link(href='public/stylesheets/temp/client-page-style.css',     rel='stylesheet')
    //- TABLE STYLE
    link(href='public/stylesheets/temp/table-style.css',     rel='stylesheet')
    link(href='public/stylesheets/temp/client_studyroom_style.css',     rel='stylesheet')
    
  body
    #wrapper
      #page-wrapper
        .row
          .col-md-12
            h1.page-head-line 금일 스터디룸 예약 현황
            h1.page-subhead-line 예약은 카운터에서 해주세요.
        .row
          .col-md-4.col-md-offset-4
            .main-box.mb-dull
              a#client-return.a-cursor-pointer
                h5 돌아가기
        hr
        .row
          .col-md-2.col-md-offset-3(style='text-align:center')
            h3 1번 방
            .table-responsive-vertical.shadow-z-1.scroll-table
              //- Table starts here
              table#studyroom-1-table.table.table-hover.table-bordered.table-mc-light-blue
                thead
                  tr
                    th 시간
                    th 사용현황
                //- THIS IS ROOM 1    
                tbody#reservation-table-body-1
                  tr
                    td 0시
                    td(name='0')
                  tr
                    td 0시 30분
                    td(name='0.5')
                  tr
                    td 1시
                    td(name='1')
                  tr
                    td 1시 30분
                    td(name='1.5')
                  tr
                    td 2시
                    td(name='2')
                  tr
                    td 2시 30분
                    td(name='2.5')
                  tr
                    td 3시
                    td(name='3')
                  tr
                    td 3시 30분
                    td(name='3.5')
                  tr
                    td 4시
                    td(name='4')
                  tr
                    td 4시 30분
                    td(name='4.5')
                  tr
                    td 7시
                    td(name='7')
                  tr
                    td 7시 30분
                    td(name='7.5')
                  tr
                    td 8시
                    td(name='8')
                  tr
                    td 8시 30분
                    td(name='8.5')
                  tr
                    td 9시
                    td(name='9')
                  tr
                    td 9시 30분
                    td(name='9.5')
                  tr
                    td 10시
                    td(name='10')
                  tr
                    td 10시 30분
                    td(name='10.5')
                  tr
                    td 11시
                    td(name='11')
                  tr
                    td 11시 30분
                    td(name='11.5')
                  tr
                    td 12시
                    td(name='12')
                  tr
                    td 12시 30분
                    td(name='12.5')
                  tr
                    td 13시
                    td(name='13')
                  tr
                    td 13시 30분
                    td(name='13.5')
                  tr
                    td 14시
                    td(name='14')
                  tr
                    td 14시 30분
                    td(name='14.5')
                  tr
                    td 15시
                    td(name='15')
                  tr
                    td 15시 30분
                    td(name='15.5')
                  tr
                    td 16시
                    td(name='16')
                  tr
                    td 16시 30분
                    td(name='16.5')
                  tr
                    td 17시
                    td(name='17')
                  tr
                    td 17시 30분
                    td(name='17.5')
                  tr
                    td 18시
                    td(name='18')
                  tr
                    td 18시 30분
                    td(name='18.5')
                  tr
                    td 19시
                    td(name='19')
                  tr
                    td 19시 30분
                    td(name='19.5')
                  tr
                    td 20시
                    td(name='20')
                  tr
                    td 20시 30분
                    td(name='20.5')
                  tr
                    td 21시
                    td(name='21')
                  tr
                    td 21시 30분
                    td(name='21.5')
                  tr
                    td 22시
                    td(name='22')
                  tr
                    td 22시 30분
                    td(name='22.5')
                  tr
                    td 23시
                    td(name='23')
                  tr
                    td 23시 30분
                    td(name='23.5')
          .col-md-2(style='text-align:center')
            h3 2번 방
            .table-responsive-vertical.shadow-z-1.scroll-table
              //- Table starts here
              table#studyroom-2-table.table.table-hover.table-bordered.table-mc-light-blue
                thead
                  tr
                    th 시간
                    th 사용현황
                    //- THIS IS ROOM 1    
                tbody#reservation-table-body-2
                  tr
                    td 0시
                    td(name='0')
                  tr
                    td 0시 30분
                    td(name='0.5')
                  tr
                    td 1시
                    td(name='1')
                  tr
                    td 1시 30분
                    td(name='1.5')
                  tr
                    td 2시
                    td(name='2')
                  tr
                    td 2시 30분
                    td(name='2.5')
                  tr
                    td 3시
                    td(name='3')
                  tr
                    td 3시 30분
                    td(name='3.5')
                  tr
                    td 4시
                    td(name='4')
                  tr
                    td 4시 30분
                    td(name='4.5')
                  tr
                    td 7시
                    td(name='7')
                  tr
                    td 7시 30분
                    td(name='7.5')
                  tr
                    td 8시
                    td(name='8')
                  tr
                    td 8시 30분
                    td(name='8.5')
                  tr
                    td 9시
                    td(name='9')
                  tr
                    td 9시 30분
                    td(name='9.5')
                  tr
                    td 10시
                    td(name='10')
                  tr
                    td 10시 30분
                    td(name='10.5')
                  tr
                    td 11시
                    td(name='11')
                  tr
                    td 11시 30분
                    td(name='11.5')
                  tr
                    td 12시
                    td(name='12')
                  tr
                    td 12시 30분
                    td(name='12.5')
                  tr
                    td 13시
                    td(name='13')
                  tr
                    td 13시 30분
                    td(name='13.5')
                  tr
                    td 14시
                    td(name='14')
                  tr
                    td 14시 30분
                    td(name='14.5')
                  tr
                    td 15시
                    td(name='15')
                  tr
                    td 15시 30분
                    td(name='15.5')
                  tr
                    td 16시
                    td(name='16')
                  tr
                    td 16시 30분
                    td(name='16.5')
                  tr
                    td 17시
                    td(name='17')
                  tr
                    td 17시 30분
                    td(name='17.5')
                  tr
                    td 18시
                    td(name='18')
                  tr
                    td 18시 30분
                    td(name='18.5')
                  tr
                    td 19시
                    td(name='19')
                  tr
                    td 19시 30분
                    td(name='19.5')
                  tr
                    td 20시
                    td(name='20')
                  tr
                    td 20시 30분
                    td(name='20.5')
                  tr
                    td 21시
                    td(name='21')
                  tr
                    td 21시 30분
                    td(name='21.5')
                  tr
                    td 22시
                    td(name='22')
                  tr
                    td 22시 30분
                    td(name='22.5')
                  tr
                    td 23시
                    td(name='23')
                  tr
                    td 23시 30분
                    td(name='23.5')
          .col-md-2(style='text-align:center')
            h3 2번 방
            .table-responsive-vertical.shadow-z-1.scroll-table
              //- Table starts here
              table#studyroom-2-table.table.table-hover.table-bordered.table-mc-light-blue
                thead
                  tr
                    th 시간
                    th 사용현황
                //- THIS IS ROOM 1    
                tbody#reservation-table-body-3
                  tr
                    td 0시
                    td(name='0')
                  tr
                    td 0시 30분
                    td(name='0.5')
                  tr
                    td 1시
                    td(name='1')
                  tr
                    td 1시 30분
                    td(name='1.5')
                  tr
                    td 2시
                    td(name='2')
                  tr
                    td 2시 30분
                    td(name='2.5')
                  tr
                    td 3시
                    td(name='3')
                  tr
                    td 3시 30분
                    td(name='3.5')
                  tr
                    td 4시
                    td(name='4')
                  tr
                    td 4시 30분
                    td(name='4.5')
                  tr
                    td 7시
                    td(name='7')
                  tr
                    td 7시 30분
                    td(name='7.5')
                  tr
                    td 8시
                    td(name='8')
                  tr
                    td 8시 30분
                    td(name='8.5')
                  tr
                    td 9시
                    td(name='9')
                  tr
                    td 9시 30분
                    td(name='9.5')
                  tr
                    td 10시
                    td(name='10')
                  tr
                    td 10시 30분
                    td(name='10.5')
                  tr
                    td 11시
                    td(name='11')
                  tr
                    td 11시 30분
                    td(name='11.5')
                  tr
                    td 12시
                    td(name='12')
                  tr
                    td 12시 30분
                    td(name='12.5')
                  tr
                    td 13시
                    td(name='13')
                  tr
                    td 13시 30분
                    td(name='13.5')
                  tr
                    td 14시
                    td(name='14')
                  tr
                    td 14시 30분
                    td(name='14.5')
                  tr
                    td 15시
                    td(name='15')
                  tr
                    td 15시 30분
                    td(name='15.5')
                  tr
                    td 16시
                    td(name='16')
                  tr
                    td 16시 30분
                    td(name='16.5')
                  tr
                    td 17시
                    td(name='17')
                  tr
                    td 17시 30분
                    td(name='17.5')
                  tr
                    td 18시
                    td(name='18')
                  tr
                    td 18시 30분
                    td(name='18.5')
                  tr
                    td 19시
                    td(name='19')
                  tr
                    td 19시 30분
                    td(name='19.5')
                  tr
                    td 20시
                    td(name='20')
                  tr
                    td 20시 30분
                    td(name='20.5')
                  tr
                    td 21시
                    td(name='21')
                  tr
                    td 21시 30분
                    td(name='21.5')
                  tr
                    td 22시
                    td(name='22')
                  tr
                    td 22시 30분
                    td(name='22.5')
                  tr
                    td 23시
                    td(name='23')
                  tr
                    td 23시 30분
                    td(name='23.5')
    form#client-return-submit(action='/clients/return' method='post')
      input(type='hidden' name='return')  
    //- JQUERY SCRIPTS
    script(src='public/javascripts/temp/jquery-1.10.2.js')
    //- BOOTSTRAP SCRIPTS
    script(src='public/javascripts/temp/bootstrap.js')
    //- METISMENU SCRIPTS
    script(src='public/javascripts/temp/jquery.metisMenu.js')
    //- RWD IMAGE MAPS SCRIPTS
    script(src='public/javascripts/temp/jquery.rwdImageMaps.min.js')
    script.
      $(document).ready(function() {
        var roomState = '!{roomState}';       
        var json = JSON.parse(roomState);
        var room1Reservation = json.room1;
        var room2Reservation = json.room2;
        var room3Reservation = json.room3;
        
        console.log(json.room2);
        //console.log(json);
        /*
          SHOULD RENDER THE JSON DATA
        */
        /*
          Now we should separate depends on the room number
        */
        /* render room 1 column */
        for (var i = 0; i < room1Reservation.length; i++) {
          var roomelt = room1Reservation[i];
          renderStudyRoomTable(roomelt, 1);
        }
        for (var i = 0; i < room2Reservation.length; i++) {
          var roomelt = room2Reservation[i];
          renderStudyRoomTable(roomelt, 2);
        }
        for (var i = 0; i < room3Reservation.length; i++) {
          var roomelt = room3Reservation[i];
          renderStudyRoomTable(roomelt, 3);
        }
        /*
          client want to return to index
        */
        $('#client-return').click(function() {
          $('input[name="return"]').val('1');
          $('#client-return-submit').submit();
        });
      });
      
      function renderStudyRoomTable(roomelt, roomnum) {
        var $td = $('tbody#reservation-table-body-'+roomnum).find('td[name="'+roomelt.start+'"]');
        $td.css('background-color', 'gray');
        
        var $tr = $td.parent().next();
        for (var i = 1; i < roomelt.duration * 2; i++) {
          $tr.find('td:eq(1)').css('background-color', 'gray');
          $tr = $tr.next();
        }
      }
    
